{% extends "project/base.html" %}
{% load staticfiles %}
{% load thumbnail %}
{# load web_tags #}
{% load i18n %}

{% block head %}
{{ wizard.form.media }}
{% endblock %}

{% block sub_title %}
    Choose a link
{% endblock sub_title %}

{% block sub_heading %}
  {% ifequal 'url_type' wizard.steps.current %}
    Choose the type of link
  {% endifequal %}
  {% ifequal 'l' wizard.steps.current %}
    Enter an External Link
  {% endifequal %}
  {% ifequal 'p' wizard.steps.current %}
    Choose a page from the site
  {% endifequal %}
  {% ifequal 'u' wizard.steps.current %}
    Upload a document for this link
  {% endifequal %}
  {% ifequal 'e' wizard.steps.current %}
    Choose a previously uploaded document
  {% endifequal %}
  {% ifequal 'm' wizard.steps.current %}
    Choose Membership Levels that have access to this document
  {% endifequal %}
  {% ifequal 'c' wizard.steps.current %}
    Choose Courses that have access to this document
  {% endifequal %}
{% endblock sub_heading %}

{% block content %}
  <div class="pure-g">
    <div class="pure-u-1">
      <style>
        #urlchoice label {
          display: block;
          margin-top: 30px;
          text-align: left;
        }
        #urlchoice th, #urlchoice td {
          display: block;
        }
        #urlchoice select,
        #urlchoice input { 
          padding: 3px;
          margin: 10px 0px;
          width: 400px;
        }
        #urlchoice input[type="checkbox"] { 
          min-width: auto;
          width: auto;
          margin: 0px;
        }
        #urlchoice li {
          list-style-type: none;
          padding: 0px;
          margin: 0px;
        }
        #urlchoice li label {
          display: inline-block;
          margin: 0px;
          padding: 0px;
          width: auto;
        }

        #urlchoice button[type="submit"],
        #urlchoice input[type="submit"] { 
          width: 100px;
          margin-right: 50px;
        }
        #buttonBar {
          margin-top: 30px;
        }
      </style>
       <form id="urlchoice" action="" method="post" {% if form.is_multipart %}enctype="multipart/form-data"{% endif %} class="pure-form {% if aligned %}pure-form-aligned{% else %}pure-form-stacked{% endif %}">
        {% csrf_token %}
        {% if form.non_field_errors %}
          {{ form.non_field_errors }}
        {% endif %}
        <fieldset>
        <table>
          {{ wizard.management_form }}
          {% if wizard.form.forms %}
            {{ wizard.form.management_form }}
            {% for form in wizard.form.forms %}
              <div class="pure-g">
                <div class="pure-u-1">
                  <div class="l-box">
                    {% include '_form.html' with legend='Content' multipart=True %}
                  </div>
                </div>
              </div>
            {% endfor %}
          {% else %}
            {{ wizard.form }}
          {% endif %}
        </table>
        <div id="buttonBar">
          {% if wizard.steps.prev %}
            <button name="wizard_goto_step" type="submit" value="{{ wizard.steps.first }}" class="pure-button pure-button-primary">< {% trans "Back" %}</button>
          {% endif %}
          <button type="submit" value="{% trans "submit" %}" class="pure-button pure-button-primary">
            {% ifequal 1 wizard.steps.step1 %}
              Next >
            {% else %}
              Submit
            {% endifequal %}
          </button>
        </div>
      </fieldset>
      </form>
    </div>
  </div>
{% endblock %}
